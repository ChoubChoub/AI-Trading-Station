# ==============================================================================
# HFT-Standard Huge Pages Configuration
# ==============================================================================
# AI Trading Station - Ultra-Low Latency Setup
# Created: 2025-10-01
# Purpose: Enable huge pages for Onload network acceleration
#
# System: 156GB RAM
# Allocation: 2GB (1024 x 2MB pages = 1.3% of total RAM)
# Standard: Matches industry best practices for HFT systems
# ==============================================================================

# Allocate 1024 huge pages (2GB total)
# Benefits:
#   - 5-10x reduction in TLB misses
#   - 20-35% reduction in P99 latency
#   - More deterministic memory access
#   - Better NUMA locality
vm.nr_hugepages = 1024

# Allow youssefbahloul group (gid=1000) to allocate huge pages
# Required for non-root processes to use huge pages
vm.hugetlb_shm_group = 1000

# ==============================================================================
# Capacity Breakdown (2GB allocation):
#   - Base Onload stacks (4Ã—64MB):    256MB
#   - Packet buffers (65536 packets): 512MB
#   - Redis connections:              256MB
#   - Headroom for scaling:          ~1GB
# ==============================================================================
